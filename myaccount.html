<!doctype html>
<html ng-app="todo">
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.14/angular.min.js"></script>
		<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet">
		<script type="text/javascript" src="http://127.0.0.1:5000/app.js"></script>
		<link href="http://127.0.0.1:5000/styles.css" rel="stylesheet">
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.14/angular-route.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.14/angular-resource.min.js"></script>
	</head>
	<body>
		<div id="div">
			<form ng-controller="InfoController">
				<div class="navbar navbar-inverse navbar-fixed-top">
				    <div class="navbar-inner">
					    <div class="container-fluid">
						    <p class="navbar-text pull-right">
						    	<a href ="/todos"> Home </a>
						    	&nbsp
							    <a href="/portal"> My portal</a>
							   	&nbsp
							   	<a id="link" href="/myinfo">Hi, {{username}}</a>
							   	<a href="/signout" class="btn-small btn-primary" ng-click="signout()"> Sign out</a>
						    </p>
					    </div>
				    </div>
			    </div>
			    <h1> My Account </h1>
				<p></p>
				<p> Personal Information </p>
				<label> First name </label>
				<input ng-hide="editData" readonly ng-model = "first_name" type="text">
				<input ng-show="editData" required type="text" ng-model="editedFirstName" placeholder="Enter first name">
				<label> Last name </label>
				<input ng-hide="editData" readonly ng-model = "last_name" type="text">
				<input ng-show="editData" required type="text" ng-model="editedLastName" placeholder="Enter last name">
				<label> Title </label>
				<input ng-hide="editData" readonly ng-model = "title" type="text">
				<div ng-show="editData" class="popup">
				    <select required="required" ng-model="editedTitle" ng-change="Title(editedTitle)" ng-options="title for title in titles" required="required">
					    <option class="" value=""></option>
			        </select>
		    	</div>
				<label> Company </label>
				<input ng-hide="editData" readonly ng-model = "company" type="text">
				<input ng-show="editData" required type="text" ng-model="editedCompany" placeholder="Enter company">
				<label> Email </label>
				<input ng-hide="editData" readonly ng-model = "email" type="text">
				<input ng-show="editData" required type="email" ng-model="editedEmail" placeholder="Enter email">
				<label> Current plan </label>
				<input ng-hide="editData" readonly ng-model = "plan" type="text">
				<p></p>
				<button class="btn-primary" ng-hide="editData" ng-click="editData = true"> Edit Data</button>
				<p></p>
				<button class="btn-primary" ng-show="editData" ng-click="save(editedFirstName,editedLastName,editedCompany,editedEmail,editedTitle)">
				Save changes</button>
				<p></p>
				<button class="btn-primary" ng-click="todos()">Back to todo</button>
			</form>
		</div>
	</body>
</html>