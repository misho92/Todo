<!doctype html>
<html ng-app="todo">
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.14/angular.min.js"></script>
		<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet">
		<script type="text/javascript" src="http://127.0.0.1:5000/app.js"></script>
		<link href="http://127.0.0.1:5000/styles.css" rel="stylesheet">
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.14/angular-route.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.14/angular-resource.min.js"></script>
	</head>
	<body>
		<h1 align="center"> My Portal </h1>
		<div id="paymentData" ng-controller="PortalController">
				<p> My Payment Data </p>
				<label> Payment Method </label>
				<input ng-hide="editData" readonly ng-model ="paymentMethod" type="text">
				<div ng-show="editData" class="popup">
				    <select required="required" ng-model="editedPaymentMethod" ng-change="Payment(editedPaymentMethod)" ng-options="payment for payment in payments" required="required">
			        <option class="" value=""></option>
			        </select>
		    	</div>
				<label ng-show="(editData && credit) || credit"> Name on card </label>
				<input ng-if="!editData && credit" readonly ng-model = "nameOnCard" type="text">
				<div ng-show="editData && credit" class="popup">
				    <input required ng-model="editedNameOnCard" type="text" placeholder="Enter name on card"/>
			        <option class="" value=""></option>
			        </select>
		    	</div>
				<label ng-show="(editData && credit) || credit"> Card Number </label>
				<input ng-if="!editData && credit" readonly ng-model = "cardNumber" type="text">
				<div ng-show="editData && credit" class="popup">
				    <input required maxlength="16" ng-model="editedCardNumber" type="text" placeholder="Enter card number"/>
			        <option class="" value=""></option>
			        </select>
		    	</div>
				<label ng-show="(editData && credit) || credit"> CVC </label>
				<input ng-if="!editData && credit" readonly ng-model = "cvc" type="text">
				<div ng-show="editData && credit" class="popup">
				    <input required ng-model="editedCVC" type="text" placeholder="Enter CVC"/>
			        <option class="" value=""></option>
			        </select>
		    	</div>
				<label ng-show="(editData && credit) || credit"> Valid Until </label>
				<input ng-if="!editData && credit" readonly ng-model = "validUntil" type="text">
				<div ng-show="editData && credit" class="popup">
				    <select ng-model="month" ng-options="month for month in months" required="required">
						<option class="" value="">
					</select>
					<p></p>
					<select ng-model="year" ng-change="validity(month,year)" ng-options="year for year in years" required="required">
						<option class="" value="">
					</select>
		    	</div>
		    	<label ng-show="(editData && !credit) || !credit"> Owner of account </label>
		    	<input ng-if="!editData && !credit" readonly ng-model = "accountOwner" type="text">
		    	<input required ng-show="editData && !credit" type="text" ng-model="$parent.editedAccountOwner" placeholder="Enter the owner of account">
		    	<label ng-show="(editData && !credit) || !credit"> BIC </label>
		    	<input ng-if="!editData && !credit" readonly ng-model = "BIC" type="text">
		    	<input required ng-if="editData && !credit" type="text" ng-model="$parent.editedBIC" placeholder="Enter the BIC of account">
		    	<label ng-show="(editData && !credit) || !credit"> IBAN </label>
		    	<input ng-if="!editData && !credit" readonly ng-model = "IBAN" type="text">
		    	<input required ng-if="editData && !credit" type="text" ng-model="$parent.editedIBAN" placeholder="Enter the IBAN of account">
		    	<label ng-show="(editData && !credit) || !credit"> Bank account number </label>
		    	<input ng-if="!editData && !credit" readonly ng-model = "bankNo" type="text">
		    	<input required ng-if="editData && !credit" type="text" ng-model="$parent.editedBankNo" placeholder="Enter the bank account number">
				<button class="btn-primary" ng-hide="editData" ng-click="editData = true"> Edit Data</button>
				<p></p>
				<div ng-show="editData" class="popup">
				    <button class="btn-primary" ng-click="saveData(editedPaymentMethod,editedNameOnCard,editedCardNumber,editedCVC,
				    editedAccountOwner,editedBIC,editedIBAN,editedBankNo)"> Save Changes</button>
		    	</div>
				<p></p>
				<button class="btn-primary" ng-click="todos()">Back to todo</button>
		</div>
	</body>
</html>
